# CodeB Deploy System ë¬¸ì„œ

## ğŸ“š ë¬¸ì„œ ëª©ë¡

ì´ ë¬¸ì„œëŠ” CodeB Deploy Systemì˜ ì™„ì „í•œ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì‹œì‘í•˜ê¸°

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [01. ì„¤ì¹˜ ê°€ì´ë“œ](01-INSTALLATION.md) | MCP ì„œë²„ ì„¤ì¹˜, ì„œë²„ í™˜ê²½ ì„¤ì •, Claude Code ì—°ë™ |

### í•µì‹¬ ë ˆí¼ëŸ°ìŠ¤

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [02. MCP ë„êµ¬ ë ˆí¼ëŸ°ìŠ¤](02-MCP-TOOLS-REFERENCE.md) | 12ê°œ MCP ë„êµ¬ ìƒì„¸ ì‚¬ìš©ë²• |
| [03. ë°°í¬ ì „ëµ ê°€ì´ë“œ](03-DEPLOYMENT-STRATEGIES.md) | Rolling, Blue-Green, Canary, Preview ë°°í¬ |

### ìš´ì˜ ê°€ì´ë“œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [04. ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼](04-MONITORING-ALERTING.md) | Prometheus, Grafana, Alertmanager ì„¤ì • |
| [05. ë³´ì•ˆ ìŠ¤ìº”](05-SECURITY-SCANNING.md) | Trivy, gitleaks, SBOM ìƒì„± |
| [06. ë¬¸ì œ í•´ê²°](06-TROUBLESHOOTING.md) | ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²° ë°©ë²• |

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì„¤ì¹˜

```bash
# MCP ì„œë²„ ë¹Œë“œ
cd codeb-deploy-system/mcp-server
npm install && npm run build
```

### 2. Claude Code ì—°ë™

`.mcp.json` ìƒì„±:
```json
{
  "mcpServers": {
    "codeb-deploy": {
      "command": "node",
      "args": ["/path/to/mcp-server/dist/index.js"],
      "env": {
        "CODEB_SERVER_HOST": "YOUR_SERVER_IP",
        "CODEB_SERVER_USER": "root",
        "CODEB_SSH_KEY_PATH": "~/.ssh/id_rsa"
      }
    }
  }
}
```

### 3. ê¸°ë³¸ ëª…ë ¹ì–´

```bash
# Claude Codeì—ì„œ
"ì„œë²„ ìƒíƒœ ë¶„ì„í•´ì¤˜"
"myapp í”„ë¡œì íŠ¸ ì´ˆê¸°í™”í•´ì¤˜"
"myapp stagingì— ë°°í¬í•´ì¤˜"
"myapp productionì— blue-green ë°°í¬í•´ì¤˜"
```

---

## ğŸ“‹ MCP ë„êµ¬ ëª©ë¡

| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `analyze_server` | ì„œë²„ ìƒíƒœ ë¶„ì„ |
| `init_project` | í”„ë¡œì íŠ¸ ì´ˆê¸°í™” + GitHub Actions |
| `deploy` | ë°°í¬ ì‹¤í–‰ (Rolling/Blue-Green/Canary) |
| `healthcheck` | í—¬ìŠ¤ì²´í¬ + ìë™ ë¡¤ë°± |
| `rollback` | ë²„ì „ ë¡¤ë°± |
| `get_version_history` | ë°°í¬ íˆìŠ¤í† ë¦¬ |
| `notify` | Slack/PagerDuty/Email ì•Œë¦¼ |
| `security_scan` | Trivy + gitleaks ë³´ì•ˆ ìŠ¤ìº” |
| `generate_sbom` | SBOM ìƒì„± |
| `preview` | PR Preview í™˜ê²½ ê´€ë¦¬ |
| `monitoring` | Prometheus + Grafana ì„¤ì • |
| `port_summary` | í¬íŠ¸ í• ë‹¹ í˜„í™© |

---

## ğŸ”§ í™˜ê²½ë³„ í¬íŠ¸ ë²”ìœ„

| í™˜ê²½ | ì•± í¬íŠ¸ | DB í¬íŠ¸ | Redis í¬íŠ¸ |
|------|---------|---------|------------|
| Staging | 3000-3499 | 5432-5449 | 6379-6399 |
| Production | 4000-4499 | 5450-5469 | 6400-6419 |
| Preview | 5000-5999 | - | - |

---

## ğŸ“Š ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CodeB Deploy System                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Claude Code  â”‚â”€â”€â”€â–¶â”‚  MCP Server  â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                             â”‚                            â”‚
â”‚                      SSH Connection                      â”‚
â”‚                             â”‚                            â”‚
â”‚                             â–¼                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   Production Server               â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚   â”‚ Podman  â”‚  â”‚  Caddy  â”‚  â”‚Registry â”‚         â”‚   â”‚
â”‚  â”‚   â”‚Containersâ”‚  â”‚Reverse â”‚  â”‚localhostâ”‚         â”‚   â”‚
â”‚  â”‚   â”‚         â”‚  â”‚ Proxy   â”‚  â”‚  :5000  â”‚         â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚   â”‚Prometheusâ”‚  â”‚ Grafana â”‚  â”‚  Alert  â”‚         â”‚   â”‚
â”‚  â”‚   â”‚  :9090  â”‚  â”‚  :3000  â”‚  â”‚ Manager â”‚         â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚        GitHub Actions Runner            â”‚   â”‚   â”‚
â”‚  â”‚   â”‚        (Self-hosted)                    â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ë²„ì „

- **v1.0.0** - ì´ˆê¸° ë¦´ë¦¬ìŠ¤
  - 12ê°œ MCP ë„êµ¬
  - Rolling/Blue-Green/Canary ë°°í¬
  - Prometheus + Grafana ëª¨ë‹ˆí„°ë§
  - Trivy + gitleaks ë³´ì•ˆ ìŠ¤ìº”
  - PR Preview í™˜ê²½

---

## ğŸ”— ê´€ë ¨ ë§í¬

- [codeb-deploy-system ì†ŒìŠ¤ ì½”ë“œ](../codeb-deploy-system/)
- [ì„œë²„ ì„¤ì • ìŠ¤í¬ë¦½íŠ¸](../codeb-deploy-system/server-scripts/)
